{"version":3,"sources":["settings.js","components/UpdateHandler.js","lib/BaseModule.js","lib/util.js","lib/farmaSDK.js","lib/authContext.js","components/LoginDialog.js","components/Header.js","lib/authHOC.js","components/views/Home.js","components/views/About.js","components/Loader.js","components/views/News.js","components/views/NewsSingle.js","components/LoginView.js","components/views/PontosApoio.js","lib/sdkContext.js","components/views/Medicines/MedicineEditDialog.js","components/views/Medicines/MedicineDetails.js","components/views/Medicines/MedicineRequestDetails.js","components/views/Medicines/MedicineDelete.js","components/SearchBar.js","lib/components/ListItemNested.js","components/views/Medicines/MedicineFilter.js","components/views/Medicines/index.js","components/views/Users.js","components/views/NotFound.js","components/views/UserForm.js","components/FormFields.js","components/views/ContactView.js","components/views/SacView.js","App.js","index.js","registerServiceWorker.js"],"names":["theme","createMuiTheme","palette","primary","secondary","UpdateHandler","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","showInstalledMessage","showUpdateMessage","showUpdateOnRestartMessage","_this2","appServiceWorker","onInstalled","setState","onUpdateFound","_this3","react_default","a","createElement","react","children","Snackbar","open","autoHideDuration","onClose","message","action","Button","key","color","size","onClick","window","location","reload","Component","BaseModule","eventListeners","login","logout","event","listener","push","listeners","index","findIndex","l","splice","_len","arguments","length","args","Array","_key","forEach","apply","_len2","_key2","__instance__","construct","preventDefault","fn","e","dateFormated","date","split","reverse","join","waitPromise","time","undefined","Promise","resolve","setTimeout","getValue","target","value","useStateReset","initialState","input","_useState","useState","_useState2","slicedToArray","useEffect","toggleState","instance","prop","defineProperty","cancellablePromise","promise","cancel","race","_","reject","Error","defaultUrl","STORAGE_SESSION_KEY","FarmaSdk","_ref$apiURL","apiURL","_session","doLogin","user","trigger","doLogout","onStorageChange","_ref2","newValue","oldValue","session","news","fetch","singleNews","id","concat","saveLocation","updateLocation","deleteLocation","medicine","then","_ref3","content","medicineStatus","medicineTypes","saveMedicine","item","edit","updateMedicine","medicines","request","amount","beginDate","Date","getTime","endDate","get","_ref4","_ref4$search","search","_ref4$filter","filter","usoVeterinario","_ref4$filter$lote","lote","_ref4$filter$status","status","_ref4$filter$tipo","tipo","items","_ref5","nomeComercial","principioAtivo","RegExp","includes","getOne","find","sac","nomeDoUsuario","email","telefone","mensagem","add","data","getUsers","getUser","_id","createUser","updateUser","_ref6","objectWithoutProperties","deleteUser","getAccount","updateAccount","updateAccountPassword","deleteAccount","rootRoute","ajax","Axios","create","baseURL","headers","Authorization","token","password","_ref7","defaults","_ref8","field","reason","route","_this4","method","objectSpread","url","res","catch","err","console","error","response","JSON","parse","localStorage","getItem","setItem","stringify","removeItem","AuthContext","React","createContext","userError","AuthContextProvider","_Component","handleUserLogin","log","handleLogin","_this$client","loading","client","handleLogout","handleRegister","register","inherits","createClass","on","off","_this$state","Provider","withAuth","mapProps","context","Consumer","assign","LoginDialog","tab","name","toggleTab","stopEvent","onRegister","onLogin","_this$state2","_this$props","isLogin","Dialog","Boolean","onSubmit","DialogTitle","DialogContent","component","Link","to","TextField","required","autoFocus","disabled","margin","label","type","fullWidth","onChange","Fragment","placeholder","DialogContentText","style","DialogActions","CircularProgress","_ref","_ref$loading","Header","loginDialogOpen","userMenuOpen","goBack","history","back","simple","classes","title","_this$props$backButto","backButton","onBack","rightAction","appBarProps","onLogout","AppBar","position","Toolbar","className","menuButtonWrapper","IconButton","aria-label","ArrowBack","Typography","variant","flex","AccountCircle","Menu","anchorEl","MenuItem","slice","components_LoginDialog","stateUpdate","keys","withStyles","root","marginLeft","marginRight","WithRoles","roles","_ref$children","_ref$callback","callback","_ref$fallback","fallback","userRole","r","Home","components_Header","Container","Card","List","ListItem","button","ListItemText","About","gutterBottom","href","containerStyle","display","alignItems","justifyContent","background","top","left","right","bottom","zIndex","Loader","News","sdk","fetchNews","map","article","maxWidth","CardActionArea","_embedded","CardMedia","height","rendered","image","source_url","replace","CardContent","dangerouslySetInnerHTML","__html","excerpt","NewsSingle","fetchArticle","Number","match","params","toLocaleDateString","float","formatDate","LoginView","authProps","_ref$mapAuthProps","mapAuthProps","p","withLogin","fields","Transition","Slide","direction","PontosApoio","load","dialogToggle","newItemOpen","newItem","createItem","sending","deleteItem","deleting","toConsumableArray","itemId","Paper","overflow","Table","TableHead","TableRow","TableCell","align","TableBody","scope","nome","rua","numero","complemento","pnt_referencia","cidade","estado","cep","hora_Abertura","hora_Fechamento","Edit","Delete","Fab","Add","fullScreen","TransitionComponent","Close","i","_ref3$","SdkContext","SdkContextProvider","withSdk","useSdk","useContext","useStyles","makeStyles","fieldsContainer","flexWrap","width","MedicineEditDialog","onItemFound","typesOptions","statusOptions","editing","onFieldChange","_useSearchItem","foundItem","setFoundItem","resetItem","_cancellablePromise","_cancellablePromise2","debounce","c1","_cancellablePromise3","_cancellablePromise4","c2","found","useSearchItem","_useSearchItem2","resetFoundItem","InputLabelProps","shrink","multiline","rowsMax","min","step","select","option","descricao","InputProps","endAdornment","InputAdornment","edge","ListItemIcon","FormControlLabel","control","Checkbox","checked","forwardRef","ref","MedicineDetails","onRequest","_useStateReset","_useStateReset2","setAmount","textAlign","dosagem","dataVencimento","inputProps","max","estoque","quantidade","MedicineRequestDetails","MedicineDelete","onDelete","setReason","minWidth","card","paddingLeft","padding","divider","SearchBar","onSearch","setSearch","css","InputBase","Search","Divider","ListItemNested","_ref$initialOpen","initialOpen","titleChildren","setOpen","ExpandMore","transition","transform","Collapse","in","timeout","unmountOnExit","disablePadding","dense","toggleArrayItem","array","newArray","MedicineFilter","_ref$initialFilter","initialFilter","onApply","_ref$status","_ref$types","types","setFilter","close","_filter$lote","idFilter","_filter$usoVeterinari","vetFilter","_filter$status","statusFilter","_filter$tipo","typesFilter","Drawer","anchor","ModalProps","keepMounted","ChevronLeft","noWrap","Cancel","ListItemSwitch","Pets","Healing","v","Category","htmlFor","tabIndex","selected","ListItemSecondaryAction","Switch_Switch","MedicinesView","setAction","resetAction","all","fetchItems","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","sent","stop","componentDidMount","editItemId","valorEstoque","requestItem","itemDetails","requestDetails","deleteMedicine","editItem","filterOpen","FilterList","laboratorio","AddCircle","TableFooter","TablePagination","colSpan","rowsPerPage","count","page","rowsPerPageOptions","labelDisplayedRows","from","onChangePage","warn","UsersView","NotFound","CardActions","UserForm","passwordChange","confirmation","changePassword","_this$state$passwordC","_ref2$","autoComplete","helperText","FormFields","_ref$fields","_ref$values","values","_ref$fieldProps","fieldProps","ContactView","contact","toggleLoading","assertThisInitialized","handleSubmit","SacView","questions","setQuestions","_useState3","_useState4","activePerson","setActivePerson","q","marginTop","person","ListItemAvatar","Avatar","SacDialog","line","Email","Phone","App","authContext_AuthContextProvider","HashRouter","MuiThemeProvider","components_UpdateHandler","Switch","Route","exact","path","appSW","AppServiceWorker","isLocalhost","hostname","installPromise","installPromiseResolver","updatePromise","updatePromiseResolver","navigator","URL","process","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","indexOf","unregister","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c7f7fa2b.chunk.js","sourcesContent":["import { createMuiTheme } from \"@material-ui/core\";\nimport {\n    red as primary, // Primary color\n    grey as secondary, // Primary color\n} from '@material-ui/core/colors'\n\n/**\n * Material UI theme feature\n * @see https://material-ui.com/customization/themes/\n * @see https://material-ui.com/style/color/\n */\nexport const theme = createMuiTheme({\n    palette: {\n        primary,\n        secondary,\n    },\n})","import React, { Component, Fragment } from 'react';\nimport { Snackbar, Button } from '@material-ui/core'\n\nclass UpdateHandler extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showInstalledMessage: false,\n            showUpdateMessage: false,\n            showUpdateOnRestartMessage: false,\n        }\n    }\n\n    componentDidMount() {\n        const { appServiceWorker } = this.props\n        if (appServiceWorker) {\n            appServiceWorker.onInstalled(() => this.setState({ showInstalledMessage: true }))\n            appServiceWorker.onUpdateFound(() => this.setState({ showUpdateMessage: true }))\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                {this.props.children}\n                <Snackbar\n                    open={this.state.showInstalledMessage}\n                    autoHideDuration={6000}\n                    onClose={() => this.setState({ showInstalledMessage: false })}\n                    message=\"The APP is ready to  work offline.\"\n                />\n                <Snackbar\n                    open={this.state.showUpdateMessage}\n                    onClose={() => this.setState({ showUpdateMessage: false, showUpdateOnRestartMessage: true })}\n                    message=\"A new version is available.\"\n                    action={[\n                        <Button key=\"undo\" color=\"secondary\" size=\"small\" onClick={() => window.location.reload()}>\n                            UPDATE\n                        </Button>\n                    ]}\n                />\n                <Snackbar\n                    open={this.state.showUpdateOnRestartMessage}\n                    autoHideDuration={6000}\n                    onClose={() => this.setState({ showUpdateOnRestartMessage: false })}\n                    message=\"The APP will be updated on the next restart.\"\n                />\n            </Fragment>\n        );\n    }\n}\n\nexport default UpdateHandler;","/**\n * Base Module\n * \n * Add singleton and events support\n *\n * @namespace\n * @export\n * @class BaseModule\n */\nexport default class BaseModule {\n\n    /**\n     * Event Listeners\n     * @var {Array[]}\n     * @memberof BaseModule\n     */\n    eventListeners = {\n        login: [],\n        logout: [],\n    }\n\n    /**\n     * ADD an event listener\n     *\n     * @param {String} event\n     * @param {Function} listener\n     * @memberof BaseModule\n     */\n    on(event, listener) {\n        if (!this.eventListeners[event]) this.eventListeners[event] = []\n        this.eventListeners[event].push(listener)\n    }\n\n    /**\n     * Removes an event listener\n     *\n     * @param {String} event\n     * @param {Function} listener\n     * @memberof BaseModule\n     */\n    off(event, listener) {\n        const listeners = this.eventListeners[event] || []\n        const index = listeners.findIndex(l => l === listener)\n        if (index > -1)\n            listeners.splice(index, 1)\n    }\n\n    /**\n     * Trigger an event\n     *\n     * @param {String} event\n     * @param {...Array} args\n     * @memberof BaseModule\n     */\n    trigger(event, ...args) {\n        const listeners = this.eventListeners[event] || []\n        listeners.forEach(listener => listener(...args))\n    }\n\n    \n    /**\n     * Singleton Instance\n     * @var {BaseModule}\n     * @static\n     * @memberof BaseModule\n     */\n    static __instance__ = null\n\n    /**\n     * Get instance\n     *\n     * @static\n     * @param {Object} props\n     * @returns {BaseModule} \n     * @memberof BaseModule\n     */\n    static instance(...props) {\n        return this.__instance__ = this.__instance__ || new this(...props)\n    }\n}","import { useState, useEffect } from \"react\";\n\n/**\n * Utilities\n */\n\n/**\n * HOC prevent event default\n *\n * @export\n * @param {Function} fn\n * @returns\n */\nexport function preventDefault(fn) {\n    return e => {\n        if (e && e.preventDefault) e.preventDefault()\n        return fn && fn()\n    }\n}\n\n/**\n * Format a date\n * @param {String} date\n */\nexport const dateFormated = date => date\n    .split('-')\n    .reverse()\n    .join('/')\n/**\n * Resolve a primise after time\n * @param {Number} [time=1000] time to wait \n */\nexport const waitPromise = (time = 1000) => new Promise(resolve => setTimeout(resolve, time))\n\n/**\n * HOF to extract value from event\n * @param {Function} fn to be called\n */\nexport const getValue = fn => (e => fn(e.target.value))\n\n/**\n * Resetable useState\n * \n * Automatically resets to initial value when some prop change\n *\n * @export\n * @param {any} initialState\n * @param {Array} input Inputs to check\n * @returns {Array} state methods\n */\nexport function useStateReset(initialState, input) {\n    const [state, setState] = useState(initialState)\n    const resetState = () => setState(initialState)\n    useEffect(resetState, input)\n    return [state, setState]\n}\n\n/**\n * Generate a function to toggle an state\n * TODO: refatorate\n * @export\n * @param {React.Component} instance\n * @param {String} prop\n * @returns {Function}\n */\nexport function toggleState(instance, prop) {\n    return () => instance.setState({ [prop]: !instance.state[prop] })\n}\n\n/**\n * Make a Promise cancellable\n *\n * @export\n * @param {Promise} promise\n * @returns {[Promise, Function]}\n */\nexport function cancellablePromise(promise) {\n    let cancel\n    const newPromise = Promise.race([\n        promise,\n        new Promise(\n            (_, reject) =>\n                cancel = () =>\n                    reject(new Error(\"canceled\"))\n        )\n    ])\n    return [newPromise, cancel]\n}","import Axios from \"axios\";\nimport BaseModule from \"./BaseModule\";\nimport { waitPromise } from \"./util\";\n\nconst defaultUrl =\n    // window.location.hostname === 'localhost' ?\n    //     'http://localhost:3010' :\n    'https://farmaciasolidaria-middleware.herokuapp.com'\n\nconst STORAGE_SESSION_KEY = 'farma-session'\n\n/**\n * Main SDK\n *\n * @namespace FarmaSdk\n * @export\n * @class FarmaSdk\n */\nexport default class FarmaSdk extends BaseModule {\n\n    /**\n     * stored session\n     * @property {Object}\n     * @memberof FarmaSdk\n     */\n    _session = null\n\n    constructor({ apiURL = defaultUrl } = {}) {\n        super()\n        this.apiURL = apiURL\n        this.rootRoute = '/api/v1'\n        this.ajax = Axios.create({\n            baseURL: this.apiURL + this.rootRoute,\n            headers: this.session && { Authorization: `Bearer ${this.session.token}` }\n        })\n    }\n\n    get session() {\n        return this._session || (this._session = JSON.parse(localStorage.getItem(STORAGE_SESSION_KEY)))\n    }\n\n    set session(value) {\n        if (value)\n            return localStorage.setItem(STORAGE_SESSION_KEY, JSON.stringify(value))\n        else\n            localStorage.removeItem(STORAGE_SESSION_KEY)\n        this._session = value\n    }\n\n    doLogin = user => this.trigger('login', user)\n    doLogout = () => this.trigger('logout')\n\n    onStorageChange = ({ key, oldValue, newValue }) => {\n        if (key !== STORAGE_SESSION_KEY) return\n        if (newValue)\n            return this.doLogin(this.session)\n        this.doLogout()\n    }\n\n    register(data) {\n        return this.fetch('/me', data, 'post')\n            .then(() => this.login(data.email, data.password))\n    }\n\n    login(email, password) {\n        return this.fetch('/login', { email, password }, 'post')\n            .then(({ user, token }) => {\n                this.ajax.defaults.headers['Authorization'] = `Bearer ${token}`\n                this.session = { user, token }\n                this.doLogin(user)\n                return user\n            })\n    }\n\n    logout() {\n        this.session = null\n        delete this.ajax.defaults.headers['Authorization']\n        this.doLogout()\n    }\n\n    news = () => this.fetch('/news?_embed')\n\n    singleNews = id => this.fetch(`/news/${id}?_embed`)\n\n    location({ field, value } = {}) {\n        const filter = field ? `${field}=${value}` : ''\n        return this.fetch(`/location`, filter)\n    }\n\n    saveLocation = location => location.id ?\n        this.updateLocation(location) :\n        this.fetch('/location', location, 'post')\n\n    updateLocation = location => this.fetch(`/location/${location.id}`, location, 'put')\n\n    deleteLocation = id => this.fetch(`/location/${id}`, null, 'delete')\n\n    // Medicamentos\n    medicine = () => this.fetch('/medicine').then(({ content }) => content)\n\n    medicineStatus = () => this.fetch('/medicine/status')\n\n    medicineTypes = () => this.fetch('/medicine/types')\n\n    saveMedicine = (item, edit) => edit ?\n        this.updateMedicine(item, edit) :\n        this.fetch('/medicine', item, 'post')\n\n    updateMedicine = (item, id) => this.fetch(`/medicine/${id}`, item, 'put')\n\n    deleteMedicine(id, reason) {\n        // TODO: support delete\n        // return this.fetch(`/medicine/${id}`, null, { method: 'delete' })\n        return waitPromise()\n    }\n\n    requestMedicine() {\n        return waitPromise()\n    }\n\n    medicines = {\n        request: (id, amount) => waitPromise().then(() => ({\n            beginDate: (new Date()).getTime(),\n            endDate: (new Date()).getTime() + 1000 * 60 * 60 * 24 * 5,\n            amount,\n            id\n        })),\n        /**\n         * TODO: unmock\n         *\n         * @param {string} [search='']\n         * @param {Object} [filter='']\n         */\n        get: ({ search = '', filter: { usoVeterinario, lote = '', status = [], tipo = [] } = {} } = {}) =>\n            this.medicine()\n                .then(items => items\n                    .filter(({ nomeComercial, principioAtivo }) =>\n                        (nomeComercial.search(new RegExp(search, 'ig')) !== -1) ||\n                        (principioAtivo.search(new RegExp(search, 'ig')) !== -1)\n                    )\n                    .filter(item => !usoVeterinario || item.usoVeterinario === 'S')\n                    .filter(item => !lote.length || item.lote === lote)\n                    .filter(item => !status.length || status.includes(item.status && item.status.id))\n                    .filter(item => !tipo.length || tipo.includes(item.tipo && item.tipo.id))\n                ),\n        getOne: lote => this.medicines\n            .get()\n            .then(items => items.find(item => item.lote === lote))\n    }\n\n    sac = {\n\n        get: () => waitPromise().then(() => [\n            { id: 1, nomeDoUsuario: 'João da Silva', email: 'joao@example.com', telefone: '12345678', mensagem: 'Como uso o sistema?' },\n            { id: 2, nomeDoUsuario: 'Maria Joana', email: 'maria@example.com', telefone: '12345678', mensagem: \"Uma história\\n\\nFim\" },\n            { id: 3, nomeDoUsuario: 'João da Silva', email: 'joao@example.com', telefone: '12345678', mensagem: 'Como uso o sistema?' },\n            { id: 4, nomeDoUsuario: 'Maria Joana', email: 'maria@example.com', telefone: '12345678', mensagem: \"Uma história\\n\\nFim\" },\n        ]),\n\n        add: data => waitPromise().then(() => true)\n\n    }\n\n    //Users\n    getUsers = () => this.fetch('/user')\n\n\n    getUser = _id => this.fetch(`/user/${_id}`)\n\n    createUser = user => user._id ?\n        this.updateUser(user) :\n        this.fetch('/user', user, 'post')\n\n    updateUser = ({ _id, ...user }) => this.fetch(`/user/${_id}`, user, 'put')\n\n    deleteUser = _id => this.fetch(`/user/${_id}`, null, 'delete')\n\n    // current user magement\n    getAccount = () => this.fetch('/me')\n\n    updateAccount = data => this.fetch('/me', data, 'put')\n\n    updateAccountPassword = data => this.fetch('/me/password', data, 'put')\n\n    deleteAccount = () => this.fetch('/me', null, 'delete').then(data => { this.logout(); return data })\n\n    // GERAL\n    fetch(route, data, args = {}) {\n        if (typeof args === 'string')\n            args = { method: args }\n\n        return this\n            .ajax({\n                method: 'get',\n                url: route,\n                data,\n                ...args\n            })\n            .then(res => res.data)\n            .catch(err => {\n                console.error('API ERROR: ', err)\n                // delete session if not authorized\n                if (err.response && err.response.status === 401 && this.session)\n                    this.logout()\n                return Promise.reject(err)\n            })\n    }\n}","import React, { Component, useContext } from 'react'\nimport FarmaSdk from './farmaSDK';\n\nexport const AuthContext = React.createContext({\n    user: null, userError: null, login: () => { }, logout: () => { }\n})\n\nexport class AuthContextProvider extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            user: this.client.session && this.client.session.user,\n            error: null,\n            loading: false,\n        }\n    }\n    get client() {\n        return FarmaSdk.instance()\n    }\n\n    handleUserLogin = (user = null) => {\n        console.log('Change login', user)\n        this.setState({ user })\n    }\n\n    componentDidMount() {\n        this.client.on('login', this.handleUserLogin)\n        this.client.on('updateUser', this.handleLogin)\n        this.client.on('logout', this.handleUserLogin)\n    }\n\n    componentWillUnmount() {\n        this.client.off('login', this.handleUserLogin)\n        this.client.off('updateUser', this.handleLogin)\n        this.client.off('logout', this.handleUserLogin)\n    }\n\n    handleLogin = (...args) => {\n        this.setState({ error: null, loading: true })\n        this.client\n            .login(...args)\n            .catch(err => this.setState({ error: err.response }))\n            .then(() => this.setState({ loading: false }))\n    }\n\n    handleLogout = () => this.client.logout()\n\n    handleRegister = data => {\n        this.setState({ error: null, loading: true })\n        this.client\n            .register(data)\n            .catch(err => this.setState({ error: err.response }))\n            .then(() => this.setState({ loading: false }))\n    }\n\n    render() {\n        const { user, loading, error: userError } = this.state\n        return (\n            <AuthContext.Provider value={{\n                user, userError, loading,\n                login: this.handleLogin,\n                logout: this.handleLogout,\n                register: this.handleRegister\n            }}>\n                {this.props.children}\n            </AuthContext.Provider>\n        )\n    }\n}\n/**\n * HOC for using auth\n * \n * @param {Function} mapProps \n * @param {React.Component} fallback \n */\nexport const withAuth =\n    (mapProps = context => context, fallback = null) =>\n        Component =>\n            props =>\n                <AuthContext.Consumer>\n                    {context => <Component {...props} {...mapProps(context)} />}\n                </AuthContext.Consumer>\n            \nexport function useAuth(){\n    const auth = useContext(AuthContext)\n    return auth\n}","\nimport React, { Component } from 'react'\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, DialogContentText, CircularProgress } from '@material-ui/core';\nimport { withAuth } from '../lib/authContext';\nimport { Link } from 'react-router-dom'\n\nclass LoginDialog extends Component {\n    state = {\n        tab: 'login',\n        email: '',\n        password: '',\n        name: '',\n    }\n\n    toggleTab = e => {\n        this.stopEvent(e)\n        this.setState({\n            tab: this.state.tab === 'login' ? 'register' : 'login',\n            password: '',\n        })\n    }\n\n    onRegister = e => {\n        this.stopEvent(e)\n        const { email, password, name } = this.state\n        this.props.onRegister({ email, password, name })\n    }\n\n    onLogin = e => {\n        this.stopEvent(e)\n        const { email, password } = this.state\n        this.props.onLogin({ email, password })\n    }\n\n    stopEvent(event) {\n        event && event.preventDefault()\n    }\n\n    render() {\n        const { onLogin, onRegister, error, user, loading, ...props } = this.props\n        const isLogin = this.state.tab === 'login'\n        return (\n            <div>\n                <Dialog open={Boolean(user)} {...props}>\n                    <form onSubmit={isLogin ? this.onLogin : this.onRegister}>\n                        <DialogTitle>{isLogin ? 'Identifique-se' : 'Registrar'}</DialogTitle>\n                        <DialogContent>\n                            <Button size=\"small\" component={Link} to=\"/\">Voltar para Home</Button>\n                            <TextField\n                                required\n                                autoFocus\n                                disabled={loading}\n                                margin=\"dense\"\n                                id=\"email\"\n                                label=\"Email\"\n                                type=\"email\"\n                                name=\"email\"\n                                fullWidth\n                                value={this.state.email}\n                                onChange={e => this.setState({ email: e.target.value })}\n                            />\n                            <TextField\n                                required\n                                autoFocus\n                                disabled={loading}\n                                margin=\"dense\"\n                                id=\"password\"\n                                label=\"Senha\"\n                                type=\"password\"\n                                name=\"password\"\n                                fullWidth\n                                value={this.state.password}\n                                onChange={e => this.setState({ password: e.target.value })}\n                            />\n\n                            {!isLogin && <>\n                                <TextField\n                                    required\n                                    autoFocus\n                                    disabled={loading}\n                                    margin=\"dense\"\n                                    id=\"name\"\n                                    label=\"Nome\"\n                                    type=\"text\"\n                                    name=\"name\"\n                                    fullWidth\n                                    value={this.state.name}\n                                    onChange={e => this.setState({ name: e.target.value })}\n                                />\n\n                                <TextField\n                                    margin=\"dense\"\n                                    id=\"cellphone\"\n                                    name=\"cellphone\"\n                                    label=\"Telefone Celular\"\n                                    type=\"tel\"\n                                    placeholder=\"(XX) XXXXX-XXXX\"\n                                    fullWidth\n                                    disabled={loading}\n                                />\n\n                                <TextField\n                                    margin=\"dense\"\n                                    id=\"phone\"\n                                    name=\"phone\"\n                                    label=\"Telefone Fixo\"\n                                    type=\"tel\"\n                                    placeholder=\"(XX) XXXX-XXXX\"\n                                    fullWidth\n                                    disabled={loading}\n                                />\n                            </>}\n\n                            {error &&\n                                <DialogContentText style={{ color: 'red' }}>{error.data}</DialogContentText>}\n                        </DialogContent>\n                        <DialogActions>\n                            {loading && <CircularProgress size={28} />}\n                            <Button disabled={loading} type=\"submit\" color=\"primary\">\n                                {isLogin ? 'Entrar' : 'Cadastrar'}\n                            </Button>\n                            <Button disabled={loading} onClick={this.toggleTab}>\n                                {isLogin ? 'Fazer Registro' : 'Fazer Login'}\n                            </Button>\n                        </DialogActions>\n                    </form>\n                </Dialog>\n            </div>\n        )\n    }\n}\n\n\nexport default withAuth(\n    ({ login, register, userError: error, user, loading = false }) => ({\n        onLogin: ({ email, password }) => login(email, password),\n        onRegister: data => register(data),\n        error, user, loading,\n    })\n)(LoginDialog)","import React, { Component } from 'react';\nimport { withStyles, IconButton, Typography, Toolbar, AppBar, Button, Menu, MenuItem } from '@material-ui/core'\nimport { ArrowBack as ArrowBackIcon, AccountCircle } from '@material-ui/icons'\nimport { withAuth } from '../lib/authContext';\nimport LoginDialog from './LoginDialog';\nimport { Link } from 'react-router-dom'\n\n\nconst styles = {\n    root: {\n        // paddingTop: 64\n    },\n    flex: {\n        flex: 1,\n    },\n    menuButtonWrapper: {\n        marginLeft: -12,\n        marginRight: 20,\n    },\n}\n\nclass Header extends Component {\n\n    state = { loginDialogOpen: false, userMenuOpen: null }\n\n    goBack = () => window.history.back()\n\n    static getDerivedStateFromProps({ user }, { userMenuOpen, loginDialogOpen }) {\n        const stateUpdate = {}\n        if (!user && userMenuOpen)\n            stateUpdate.userMenuOpen = null\n        if (user && loginDialogOpen)\n            stateUpdate.loginDialogOpen = false\n\n        return Object.keys(stateUpdate).length ? stateUpdate : null\n    }\n\n    render() {\n        const { simple, children, classes, title, backButton = false, onBack, rightAction, appBarProps, user, onLogout, ...props } = this.props\n\n        return (\n            <>\n                <AppBar position=\"sticky\" {...appBarProps} {...props}>\n                    <Toolbar>\n                        <div className={classes.menuButtonWrapper}>\n                            {(onBack || backButton) &&\n                                <IconButton color=\"inherit\" aria-label=\"Menu\" onClick={onBack || this.goBack}>\n                                    <ArrowBackIcon />\n                                </IconButton>}\n                        </div>\n\n                        {title &&\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\n                                {title}\n                            </Typography>\n                        }\n\n                        <div>\n                            {!simple && (\n                                user ?\n                                    <>\n                                        <IconButton color=\"inherit\" onClick={e => this.setState({ userMenuOpen: e.target })}>\n                                            <AccountCircle />\n                                        </IconButton>\n                                        <Menu\n                                            anchorEl={this.state.userMenuOpen}\n                                            open={Boolean(this.state.userMenuOpen)}\n                                            onClose={() => this.setState({ userMenuOpen: null })}\n                                        >\n                                            <MenuItem disabled>Logado como {' ' + user.name.split(' ').slice(0, 2).join(' ')}</MenuItem>\n                                            <MenuItem to=\"/me\" component={Link} >Editar Conta</MenuItem>\n                                            <MenuItem onClick={onLogout}>Sair</MenuItem>\n                                        </Menu>\n                                    </> :\n                                    <Button color=\"inherit\" onClick={() => this.setState({ loginDialogOpen: true })}>Fazer Login</Button>\n                            )}\n\n                            {rightAction}\n                        </div>\n                    </Toolbar>\n                    {children}\n                </AppBar>\n\n                <LoginDialog open={this.state.loginDialogOpen} onClose={() => this.setState({ loginDialogOpen: false })} />\n\n            </>\n        )\n    }\n\n}\n\nexport default withAuth(\n    ({ logout: onLogout, user }) => ({ onLogout, user })\n)(withStyles(styles)(Header));\n","import { withAuth } from \"./authContext\";\n\n\nfunction WithRolesView({ user, roles, children = null, callback = () => children, fallback = null }) {\n    if (typeof roles === 'string')\n        roles = roles.split(',')\n    return (user && user.roles.find(userRole => roles.find(r => r === userRole))) ?\n        callback() : fallback\n}\n\nexport const WithRoles = withAuth()(WithRolesView)\n\nexport function withAuthentication() {\n\n}","import React, { Component } from 'react';\nimport Header from '../Header';\nimport { List, ListItem, ListItemText, Card, Container } from '@material-ui/core';\nimport { Link } from 'react-router-dom'\nimport { WithRoles } from '../../lib/authHOC';\n\nclass Home extends Component {\n    render() {\n        return (\n            <>\n                <Header title=\"Farmácia solidária\" />\n                <main>\n                    <Container>\n                        <Card style={{ margin: \"10px 0\" }}>\n                            <List component=\"nav\">\n\n                                <ListItem button component={Link} to=\"medicine\">\n                                    <ListItemText primary=\"Medicamentos\" secondary=\"Veja medicamentos disponíveis\" />\n                                </ListItem>\n\n                                <ListItem button component={Link} to=\"place\">\n                                    <ListItemText\n                                        primary=\"Pontos de Apoio\"\n                                        secondary=\"Confira os pontos para realizar sua doação.\" />\n                                </ListItem>\n\n                                <ListItem button component={Link} to=\"news\">\n                                    <ListItemText primary=\"Notícias\" secondary=\"Veja as últimas notícias\" />\n                                </ListItem>\n\n                                <WithRoles roles=\"admin\">\n                                    <ListItem button component={Link} to=\"user\">\n                                        <ListItemText primary=\"Usuários\" secondary=\"Cadastre e gerencie usuários\" />\n                                    </ListItem>\n                                    <ListItem button component={Link} to=\"sac\">\n                                        <ListItemText primary=\"SAC\" secondary=\"Responda dúdivas de usuários\" />\n                                    </ListItem>\n                                </WithRoles>\n\n                                <ListItem button component={Link} to=\"about\">\n                                    <ListItemText primary=\"Sobre\" secondary=\"Saiba mais sobre o aplicativo\" />\n                                </ListItem>\n\n                                <ListItem button component={Link} to=\"contact\">\n                                    <ListItemText primary=\"Contato\" secondary=\"Entre em contato e tire suas Dúvidas\" />\n                                </ListItem>\n\n                            </List>\n                        </Card>\n                    </Container>\n                </main>\n            </>\n        );\n    }\n}\n\nexport default Home;","import React, { Component, Fragment } from 'react';\nimport Header from '../Header';\nimport { Typography } from '@material-ui/core';\n\nclass About extends Component {\n    render() {\n        return (\n            <Fragment>\n                <Header title=\"Sobre\" backButton />\n                <main>\n                    <Typography gutterBottom>\n                        APP em desenvolvimento.\n                    <a href=\"http://github.com/minas-dev-test/farmacia-frontend-react\">\n                    Visitar repositório\n                    </a>\n                    </Typography>\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nexport default About;","import React from 'react'\nimport { CircularProgress } from '@material-ui/core';\n\nconst containerStyle = {\n    margin: 'auto',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'rgba(255, 255, 255, 0.6)',\n    position: 'fixed',\n    top: 64,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: '1'\n}\n\n\nexport default function Loader(props) {\n    return (\n        <div style={containerStyle}>\n            <CircularProgress size={56} {...props} />\n        </div>\n    )\n}\n","import React, { Component } from 'react';\nimport Header from '../Header';\nimport { Typography, Card, CardContent, CardMedia, CardActionArea, Button } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport FarmaSdk from '../../lib/farmaSDK'\nimport { WithRoles } from '../../lib/authHOC';\nimport Loader from 'components/Loader';\n\n/**\n * News Component\n * TODO: FIX thumb https url\n *\n * @class News\n * @extends {Component}\n */\nclass News extends Component {\n    constructor(props) {\n        super(props);\n        this.sdk = FarmaSdk.instance()\n        this.state = {\n            loading: true,\n            news: []\n        }\n    }\n\n    fetchNews() {\n        this.setState({ loading: true })\n        this.sdk.news()\n            .then(news => this.setState({ news }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ loading: false }))\n    }\n\n    componentDidMount() {\n        this.fetchNews()\n    }\n\n    render() {\n        return (\n            <>\n                <Header title=\"Notícias\" backButton rightAction={\n                    <WithRoles roles=\"admin\">\n                        <Button component=\"a\" color=\"inherit\" target=\"blank\" href=\"http://18.222.72.102:3000/wp-admin/\">Ir para o painel</Button>\n                    </WithRoles>\n                } />\n                <main>\n                    {this.state.loading ? <Loader /> :\n                        this.state.news.map(article =>\n                            <Card component=\"article\" key={article.id}\n                                style={{ maxWidth: 480, margin: '10px auto' }}>\n                                <CardActionArea component={Link} to={`news/${article.id}`}>\n                                    {article._embedded && article._embedded['wp:featuredmedia'] &&\n                                        <CardMedia\n                                            style={{ height: 140 }}\n                                            title={article._embedded['wp:featuredmedia'][0].title.rendered}\n                                            image={article._embedded['wp:featuredmedia'][0].source_url.replace('https', 'http')} />\n\n                                    }\n                                    <CardContent>\n                                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                                            {article.title.rendered}\n                                        </Typography>\n\n                                        <Typography component=\"div\"\n                                            dangerouslySetInnerHTML={{ __html: article.excerpt.rendered }} />\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        )}\n                </main>\n            </>\n        );\n    }\n}\n\nexport default News;","import React, { Component } from 'react';\nimport Header from '../Header';\nimport { Typography, Card, CardContent, CardMedia } from '@material-ui/core';\nimport FarmaSdk from '../../lib/farmaSDK'\nimport Loader from 'components/Loader';\n\nclass NewsSingle extends Component {\n    constructor(props) {\n        super(props);\n        this.sdk = FarmaSdk.instance()\n        this.state = {\n            loading: true,\n            article: null\n        }\n    }\n\n    fetchArticle(id) {\n        this.setState({ loading: true })\n        this.sdk.singleNews(id)\n            .then(article => this.setState({ article }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ loading: false }))\n    }\n\n    componentDidMount() {\n        this.fetchArticle(Number(this.props.match.params.id))\n    }\n\n    formatDate(date){\n        date = new Date();\n        return date.toLocaleDateString()\n    }\n\n    render() {\n        const { article } = this.state\n        console.log(article)\n        return (\n            <>\n                <Header title=\"Notícias\" backButton />\n                <main>\n                    {this.state.loading ? <Loader /> :\n\n                        <Card component=\"article\" style={{ maxWidth: 480, margin: '10px auto' }}>\n\n                            {article._embedded && article._embedded['wp:featuredmedia'] &&\n                                <CardMedia\n                                    style={{ height: 140 }}\n                                    title={article._embedded['wp:featuredmedia'][0].title.rendered}\n                                    image={article._embedded['wp:featuredmedia'][0].source_url.replace('https', 'http')} />\n\n                            }\n                            <CardContent>\n                                <time style={{float: 'right'}}>{this.formatDate(article.date)}</time>\n                                <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                                    {article.title.rendered}\n                                </Typography>\n\n                                <Typography component=\"div\"\n                                    dangerouslySetInnerHTML={{ __html: article.content.rendered }} />\n                            </CardContent>\n                        </Card>\n                    }\n                </main>\n            </>\n        );\n    }\n}\n\nexport default NewsSingle;","import React from \"react\";\nimport { withAuth } from \"../lib/authContext\";\nimport LoginDialog from \"./LoginDialog\";\n\nfunction LoginViewRender({ component: Component, authProps, mapAuthProps = p => p, ...props }) {\n    return (\n        <>\n            <LoginDialog\n                open={!authProps.user}\n            />\n            {authProps.user && <Component {...props} {...mapAuthProps(authProps)} />}\n        </>\n    )\n}\n\nconst LoginView = withAuth(authProps => ({ authProps }))(LoginViewRender)\n\nexport const withLogin = (component, mapAuthProps) =>\n    props => (\n        <LoginView {...props} mapAuthProps={mapAuthProps} component={component} />\n    )\n\nexport default LoginView","import React, { Component } from 'react';\nimport Header from '../Header';\nimport { Typography, Button, TextField, Table, TableRow, TableBody, TableCell, TableHead, Paper, Fab, Dialog, DialogContent, DialogContentText, DialogActions, IconButton, Slide } from '@material-ui/core';\nimport FarmaSdk from '../../lib/farmaSDK'\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon, Close as CloseIcon } from '@material-ui/icons';\nimport { withLogin } from '../LoginView';\nimport { WithRoles } from '../../lib/authHOC';\nimport Loader from 'components/Loader';\n\nconst fields = [\n    ['nome', 'Nome do Local', { required: true }],\n    ['rua', 'Rua', { required: true }],\n    ['numero', 'Número', { required: true }],\n    ['complemento', 'Complemento'],\n    ['bairro', 'Bairro', { required: true }],\n    ['cidade', 'Cidade', { required: true }],\n    ['estado', 'Estado', { required: true }],\n    ['cep', 'CEP', { required: true }],\n    ['pnt_referencia', 'Ponto Referencia'],\n    ['hora_Abertura', 'Hora Abertura', { required: true }],\n    ['hora_Fechamento', 'Hora Fechamento', { required: true }],\n    ['latitude', 'Latitude'],\n    ['longitude', 'Longitude'],\n]\n\nclass PontosApoio extends Component {\n    constructor(props) {\n        super(props);\n        this.sdk = FarmaSdk.instance()\n        this.state = {\n            loading: true,\n            items: [],\n            newItem: {},\n            newItemOpen: false,\n            sending: false,\n            deleting: false,\n        }\n    }\n\n    load = () => {\n        this.setState({ loading: true })\n        this.sdk.location()\n            .then(items => this.setState({ items }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ loading: false }))\n    }\n\n    componentDidMount() {\n        this.load()\n    }\n\n    dialogToggle = () => this.setState({\n        newItemOpen: !this.state.newItemOpen,\n        newItem: this.state.newItemOpen ? {} : this.state.newItem\n    })\n\n    createItem = e => {\n        e && e.preventDefault()\n        if (this.state.sending)\n            return;\n        this.setState({ sending: true })\n        this.sdk.saveLocation(this.state.newItem)\n            .then(items => this.setState({ newItem: {}, sending: false, newItemOpen: false }))\n            .then(this.load)\n            .catch(error => console.error(error) || this.setState({ error }))\n    }\n\n    deleteItem = id => {\n        if (this.state.deleting)\n            return;\n        this.setState({ deleting: true })\n        const items = [...this.state.items]\n        const index = items.findIndex(({ id: itemId }) => id === itemId)\n        items.splice(index, 1)\n        this.sdk.deleteLocation(id)\n            .then(() => this.setState({ items }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ deleting: false }))\n    }\n\n    render() {\n        const { newItemOpen, newItem, items, loading, sending, } = this.state\n        return (\n            <>\n                <Header title=\"Pontos de Apoio\" backButton />\n                <main>\n                    {loading ?\n                        <Loader /> :\n                        !items.length ?\n                            <Typography align=\"center\">Lista vazia</Typography> :\n                            <Paper style={{ margin: 10, overflow: 'auto' }}>\n                                <Table>\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell>Nome</TableCell>\n                                            <TableCell align=\"right\">Endereço</TableCell>\n                                            <TableCell align=\"right\">Cidade / UF</TableCell>\n                                            <TableCell align=\"right\">CEP</TableCell>\n                                            <TableCell align=\"right\">Horário</TableCell>\n                                            <TableCell align=\"right\">Ações</TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {items.map(item =>\n                                            <TableRow key={item.id}>\n                                                <TableCell component=\"th\" scope=\"row\">\n                                                    {item.nome}\n                                                </TableCell>\n\n                                                <TableCell align=\"right\">\n                                                    <p>{item.rua}, {item.numero} {item.complemento}</p>\n                                                    <p>{item.pnt_referencia}</p>\n                                                </TableCell>\n\n                                                <TableCell align=\"right\">\n                                                    {item.cidade}/{item.estado}\n                                                </TableCell>\n\n                                                <TableCell align=\"right\">\n                                                    {item.cep}\n                                                </TableCell>\n\n                                                <TableCell align=\"right\">\n                                                    {item.hora_Abertura} - {item.hora_Fechamento}\n                                                </TableCell>\n\n                                                <TableCell align=\"right\">\n                                                    <WithRoles roles=\"admin\">\n                                                        <IconButton onClick={() => this.setState({ newItem: { ...item }, newItemOpen: true })} color=\"secondary\">\n                                                            <EditIcon />\n                                                        </IconButton>\n                                                        <IconButton disabled={this.state.deleting} onClick={() => this.deleteItem(item.id)}>\n                                                            <DeleteIcon />\n                                                        </IconButton>\n                                                    </WithRoles>\n                                                </TableCell>\n\n                                            </TableRow>\n                                        )}\n                                    </TableBody>\n                                </Table>\n                            </Paper>\n                    }\n                    <WithRoles roles=\"admin\">\n                        <Fab color=\"primary\" title=\"Adicionar\" aria-label=\"Adicionar\"\n                            onClick={this.dialogToggle}\n                            style={{ position: 'sticky', bottom: 16, right: 16, float: 'right', margin: 16 }}>\n                            <AddIcon />\n                        </Fab>\n                    </WithRoles>\n                    <Dialog\n                        fullScreen\n                        open={newItemOpen}\n                        onClose={this.dialogToggle}\n                        TransitionComponent={Transition}\n                    >\n                        <Header simple title={newItem.id ? `Editar '${newItem.nome}'` : 'Novo Local'}\n                            rightAction={\n                                <IconButton color=\"inherit\" disabled={sending} onClick={this.dialogToggle}>\n                                    <CloseIcon />\n                                </IconButton>\n                            } />\n                        <form method=\"post\" onSubmit={this.createItem}>\n                            <DialogContent>\n                                <DialogContentText>Preencha os dados abaixo</DialogContentText>\n                                {fields.map(([field, label, args = {}], i) =>\n                                    <TextField\n                                        key={field}\n                                        autoFocus={i === 0}\n                                        margin=\"dense\"\n                                        id={field}\n                                        name={field}\n                                        label={label}\n                                        value={newItem[field] || ''}\n                                        onChange={e => this.setState({ newItem: { ...newItem, [field]: e.target.value } })}\n                                        type=\"text\"\n                                        fullWidth\n                                        {...args\n                                        // { ...args, required: false }\n                                        }\n                                    />\n                                )}\n                            </DialogContent>\n                            <DialogActions>\n                                <Button variant=\"contained\" fullWidth size=\"large\" type=\"submit\" color=\"primary\" disabled={this.sending}>Enviar</Button>\n                                <Button variant=\"outlined\" fullWidth size=\"large\" disabled={this.sending} onClick={this.dialogToggle}>Cancelar</Button>\n                            </DialogActions>\n                        </form>\n                    </Dialog>\n                </main>\n            </>\n        );\n    }\n}\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />\n}\n\nexport default withLogin(PontosApoio);","import React, { useContext } from 'react'\nimport FarmaSdk from './farmaSDK';\n\nexport const SdkContext = React.createContext({})\n\nexport function SdkContextProvider({ children }) {\n    return (\n        <SdkContext.Provider value={{ sdk: FarmaSdk.instance() }}>\n            {children}\n        </SdkContext.Provider>\n    )\n}\n\nexport const withSdk =\n    (mapProps = props => props) =>\n        Component =>\n            props => (\n                <SdkContext.Consumer>\n                    {context => <Component {...props} {...mapProps(context)} />}\n                </SdkContext.Consumer>\n            )\n\n/**\n * SDK hook\n *\n * @export\n * @returns {FarmaSdk}\n */\nexport function useSdk() {\n    const { sdk } = useContext(SdkContext)\n    return sdk\n}","import React, { forwardRef, useEffect, useState } from 'react';\nimport Header from 'components/Header';\nimport { Button, TextField, Dialog, DialogContent, DialogContentText, DialogActions, IconButton, Slide, MenuItem, FormControlLabel, Checkbox, makeStyles, InputAdornment, ListItemIcon, Typography as T, DialogTitle } from '@material-ui/core';\nimport { Close as CloseIcon, Add as AddIcon } from '@material-ui/icons';\nimport { preventDefault, cancellablePromise, waitPromise } from 'lib/util';\nimport { useSdk } from 'lib/sdkContext';\n\nconst useStyles = makeStyles({\n\n    fieldsContainer: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'flex-end',\n        flexWrap: 'wrap'\n    },\n    field: {\n        width: 'calc(50% - 5px)',\n    }\n})\n\nexport default function MedicineEditDialog({ onSubmit, onItemFound, item, typesOptions, statusOptions, sending, editing, onFieldChange, onClose, ...props }) {\n    const classes = useStyles()\n    const [foundItem, resetFoundItem] = useSearchItem(item.lote)\n\n    const fields = [\n        ['lote', 'Lote', { required: true, disabled: editing, variant: 'outlined' }],\n        ['nomeComercial', 'Nome Comercial', { required: true }],\n        ['principioAtivo', 'Principio Ativo', { required: true, }],\n        ['dosagem', 'Dosagem', { required: true }],\n        ['dataVencimento', 'Data de Vencimento', { required: true, type: 'date', InputLabelProps: { shrink: true } }],\n        ['outrasEspecificacoes', 'Outras especificações', { multiline: true, rowsMax: 4 }],\n        ['laboratorio', 'Laboratório', { required: true }],\n        ['valorEstoque', 'Estoque', { required: true, type: 'number', min: 0, step: 1, }, editing],\n    ]\n\n    return (<>\n        <Dialog\n            fullScreen\n            TransitionComponent={Transition}\n            onClose={onClose}\n            {...props}\n        >\n            <Header simple title={editing ? `Editar` : 'Novo'}\n                rightAction={\n                    <IconButton color=\"inherit\" disabled={sending} onClick={onClose}>\n                        <CloseIcon />\n                    </IconButton>\n                } />\n            <form method=\"post\" onSubmit={onSubmit}>\n                <DialogContent>\n                    <DialogContentText>Preencha os dados abaixo</DialogContentText>\n\n                    <div className={classes.fieldsContainer}>\n                        <TextField\n                            margin=\"dense\"\n                            id=\"status\"\n                            name=\"status\"\n                            label=\"Status\"\n                            variant=\"outlined\"\n                            className={classes.field}\n                            value={item.status || 'none'}\n                            onChange={e => onFieldChange('status', e.target.value)}\n                            select>\n                            <MenuItem value=\"none\" disabled>\n                                {statusOptions.length ? 'Selecione...' : 'Carregando...'}\n                            </MenuItem>\n                            {statusOptions.map(option => (\n                                <MenuItem key={option.id} value={option.id}>\n                                    {option.descricao}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n\n                        {fields.map(([field, label, args = {}, hidden], i) => !hidden &&\n                            <TextField\n                                key={field}\n                                autoFocus={i === 0}\n                                margin=\"dense\"\n                                id={field}\n                                name={field}\n                                label={label}\n                                value={item[field] || ''}\n                                className={classes.field}\n                                onChange={e => onFieldChange(field, e.target.value)}\n                                type=\"text\"\n                                {...args}\n                            />\n                        )}\n\n                        <TextField\n                            margin=\"dense\"\n                            id=\"tipo\"\n                            name=\"tipo\"\n                            label=\"Tipo de medicamento\"\n                            className={classes.field}\n                            value={item.tipo || 'none'}\n                            onChange={e => e.target.value && onFieldChange('tipo', e.target.value)}\n                            InputLabelProps={{ shrink: true }}\n                            select\n                            InputProps={{\n                                endAdornment: (\n                                    <InputAdornment>\n                                        <IconButton edge=\"end\">\n                                            <AddIcon />\n                                        </IconButton>\n                                    </InputAdornment>\n                                )\n                            }}>\n\n                            <MenuItem value=\"none\" disabled>\n                                {typesOptions.length ? 'Selecione...' : 'Carregando...'}\n                            </MenuItem>\n                            {typesOptions.map(option => (\n                                <MenuItem key={option.id} value={option.id}>\n                                    {option.descricao}\n                                </MenuItem>\n                            ))}\n                            <MenuItem onClick={preventDefault()}>\n                                <ListItemIcon>\n                                    <AddIcon />\n                                </ListItemIcon>\n                                <T>Adicionar novo</T>\n                            </MenuItem>\n                        </TextField>\n                    </div>\n\n                    <FormControlLabel\n                        label=\"Uso Veterinário\"\n                        style={{ width: '100%' }}\n                        control={\n                            <Checkbox\n                                id=\"usoVeterinario\"\n                                name=\"usoVeterinario\"\n                                checked={item.usoVeterinario === 'S'}\n                                color=\"primary\" value=\"true\"\n                                onChange={e => onFieldChange('usoVeterinario', item.usoVeterinario === 'S' ? 'N' : 'S')}\n                            />\n                        }\n                    />\n\n\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"contained\" fullWidth size=\"large\" type=\"submit\" color=\"primary\" disabled={sending}>Enviar</Button>\n                    <Button variant=\"outlined\" fullWidth size=\"large\" disabled={sending} onClick={onClose}>Cancelar</Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n\n        <Dialog open={Boolean(foundItem)} onClose={resetFoundItem}>\n            <DialogTitle >Item Encontrado</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Um Item com este lote foi encontrado. Deseja editá-lo?\n                </DialogContentText>\n                {foundItem &&\n                    <DialogContentText>\n                        <strong>{foundItem.nomeComercial}</strong> - <small>{foundItem.principioAtivo}</small>\n                    </DialogContentText>\n                }\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={resetFoundItem} color=\"primary\">\n                    Não, inserir novo\n                </Button>\n                <Button onClick={() => resetFoundItem() || onItemFound(foundItem)} color=\"primary\" autoFocus>\n                    Editar\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </>)\n}\n\nfunction useSearchItem(id) {\n    const sdk = useSdk()\n    const [foundItem, setFoundItem] = useState(null)\n    const resetItem = () => setFoundItem(null)\n    useEffect(() => {\n        if (!id) return\n        const [debounce, c1] = cancellablePromise(waitPromise(500))\n        const [request, c2] = cancellablePromise(debounce.then(() => sdk.medicines.getOne(id)))\n        request.then(found => setFoundItem(found)).catch(() => { })\n        return () => { c1(); c2(); resetItem() }\n    }, [id, sdk])\n\n    return [foundItem, resetItem]\n}\n\nconst Transition = forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />\n})\n","import React from 'react'\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, CircularProgress } from '@material-ui/core';\nimport { dateFormated, preventDefault, useStateReset } from 'lib/util';\n\nexport default function MedicineDetails({ item, loading, onClose, onRequest, ...props }) {\n    const [amount, setAmount] = useStateReset('1', [item])\n    return (\n        <Dialog onClose={onClose} {...props}>\n            <form style={{ textAlign: 'center' }}\n                onSubmit={preventDefault(() => onRequest(Number(amount)))}>\n                <DialogTitle>Informações do Medicamento</DialogTitle>\n                <DialogContent>\n                    {(!item || loading) ? <CircularProgress /> : <>\n                        <h4>{item.nomeComercial}</h4>\n                        <p><small>{item.principioAtivo}</small></p>\n                        <p><b>Dosagem: </b>{item.dosagem}<br /></p>\n                        <p><b>Vencimento: </b> {dateFormated(item.dataVencimento)}</p>\n                        <p>{item.status && item.status.descricao} </p>\n                        <TextField\n                            fullWidth\n                            type=\"number\"\n                            inputProps={{\n                                step: 1,\n                                min: 1,\n                                max: (item.estoque && item.estoque.quantidade) || 1,\n                            }}\n                            label=\"Quantidade\"\n                            value={amount}\n                            disabled={loading}\n                            onChange={e => setAmount(e.target.value)}\n                        />\n                    </>}\n                </DialogContent>\n                <DialogActions>\n                    <Button disabled={loading} type=\"button\" onClick={onClose}>Cancelar</Button>\n                    <Button disabled={loading} type=\"submit\" color=\"primary\">Solicitar</Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    )\n}\n","import React from 'react'\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@material-ui/core';\n\nexport default function MedicineRequestDetails({ request, onClose, ...props }) {\n    return (\n        <Dialog onClose={onClose} {...props}>\n            <DialogTitle>Pedido finalizado!</DialogTitle>\n            <DialogContent>\n                <p>\n                    {'O medicamento está disponível para retirada na farmácia universitária do dia '}\n                    <time>{request && new Date(request.beginDate).toLocaleDateString()}</time>\n                    {' ao dia '}\n                    <time>{request && new Date(request.endDate).toLocaleDateString()}</time>.\n                    </p>\n                <p>Não se esqueca de levar a receita.</p>\n            </DialogContent>\n            <DialogActions>\n                <Button fullWidth variant=\"contained\" color=\"primary\" onClick={onClose}>Entendi</Button>\n                <Button fullWidth variant=\"outlined\" color=\"secondary\" component=\"a\"\n                    href=\"https://goo.gl/maps/JPUxSEo2YEpoRCHt8\" target=\"_blank\">Ver no mapa</Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import React from 'react'\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, CircularProgress, Typography } from '@material-ui/core';\nimport { dateFormated, preventDefault, getValue, useStateReset } from 'lib/util';\n\nexport default function MedicineDelete({ item, loading, onClose, onDelete, ...props }) {\n    const [reason, setReason] = useStateReset('', [item])\n    return (\n        <Dialog onClose={onClose} {...props}>\n            <form style={{ textAlign: 'center', minWidth: 300 }}\n                onSubmit={preventDefault(() => onDelete(item, reason))}>\n                <DialogTitle>Remover do estoque?</DialogTitle>\n                <DialogContent>\n                    {item && <>\n                        <Typography variant=\"subtitle1\">{item.nomeComercial}</Typography>\n                        <p><small>{item.principioAtivo}</small></p>\n                        <p><b>Dosagem: </b>{item.dosagem}<br /></p>\n                        <p><b>Vencimento: </b> {dateFormated(item.dataVencimento)}</p>\n                        <p>{item.status && item.status.descricao} </p>\n                        <TextField\n                            fullWidth\n                            multiline\n                            required\n                            label=\"Motivo\"\n                            placeholder=\"Descreva o motivo da remoção...\"\n                            value={reason}\n                            disabled={loading}\n                            onChange={getValue(setReason)}\n                        />\n                    </>}\n                </DialogContent>\n                <DialogActions>\n                    {loading && <CircularProgress size={24} />}\n                    <Button disabled={loading} type=\"button\" onClick={onClose}>Cancelar</Button>\n                    <Button disabled={loading} type=\"submit\" color=\"primary\">Remover</Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    )\n}\n","import React, { useState } from 'react'\nimport { Paper, IconButton, Divider, InputBase } from '@material-ui/core';\nimport { Search as SearchIcon, Close } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/styles';\nimport { getValue, preventDefault } from 'lib/util';\n\nconst useStyles = makeStyles({\n    root: { margin: '10px 0', display: 'flex', justifyContent: 'flex-end', },\n    card: { paddingLeft: 10, display: 'flex', alignItems: 'center' },\n    button: { padding: 10, margin: 2 },\n    divider: { width: 1, height: 28 },\n})\n\nexport default function SearchBar({ onSearch, ...props }) {\n    const [search, setSearch] = useState('')\n    const css = useStyles()\n    return (\n        <form onSubmit={preventDefault(() => onSearch(search))} className={css.root}>\n            <Paper className={css.card}>\n                <InputBase placeholder=\"Pesquisar...\" value={search} onChange={getValue(setSearch)} {...props} />\n                <IconButton type=\"submit\" className={css.button}>\n                    <SearchIcon />\n                </IconButton>\n                <Divider className={css.divider} />\n                <IconButton color=\"primary\" type=\"button\" disabled={!search} onClick={() => setSearch('')} className={css.button}>\n                    <Close />\n                </IconButton>\n            </Paper>\n        </form>\n    )\n}\n","import React, { useState } from 'react';\nimport { List, ListItem, Collapse } from '@material-ui/core';\nimport { ExpandMore } from '@material-ui/icons';\n\n\nexport default function ListItemNested({ initialOpen = true, titleChildren, children }) {\n    const [open, setOpen] = useState(initialOpen)\n    return (<>\n        <ListItem button onClick={() => setOpen(!open)}>\n            {titleChildren}\n            <ExpandMore style={{ transition: 'transform 200ms ease-out', transform: `rotate(${open ? 180 : 0}deg)` }} />\n        </ListItem>\n\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <List disablePadding dense>\n                {children}\n            </List>\n        </Collapse>\n    </>)\n}\n","import React, { useState } from 'react';\nimport { Drawer, List, ListItem, ListItemText, ListItemSecondaryAction, Switch, Divider, ListItemIcon, TextField, Toolbar, Typography as T, IconButton, Button, InputAdornment } from '@material-ui/core';\nimport { Pets as PetsIcon, Healing as HealingIcon, Category as CategoryIcon, ChevronLeft, Cancel as CancelIcon } from '@material-ui/icons';\nimport ListItemNested from 'lib/components/ListItemNested';\nimport { preventDefault } from 'lib/util';\nimport { WithRoles } from 'lib/authHOC';\n\nfunction toggleArrayItem(item, array = []) {\n    const newArray = array.filter(e => e !== item)\n    if (newArray.length === array.length)\n        newArray.push(item)\n    return newArray\n}\n\n/**\n * Medicine Filter\n * TODO: fix tabindex radio\n *\n * @export\n * @param {Object} { initialFilter = {}, onApply, status = [], types = [], ...props }\n * @returns {React.Component}\n */\nexport default function MedicineFilter({ initialFilter = {}, onApply, status = [], types = [], ...props }) {\n    const [filter, setFilter] = useState(initialFilter)\n    const onChange = (field, value) => setFilter({ ...filter, [field]: value })\n    const close = () => onApply(filter)\n    const { lote: idFilter = '', usoVeterinario: vetFilter = false, status: statusFilter = [], tipo: typesFilter = [] } = filter\n\n    return (\n        <Drawer onClose={close} anchor=\"right\" variant=\"temporary\" {...props} ModalProps={{ keepMounted: true }}>\n            <Toolbar>\n                <IconButton style={{ marginLeft: -16, marginRight: 8 }} onClick={close} color=\"inherit\" edge=\"start\">\n                    <ChevronLeft />\n                </IconButton>\n                <T variant=\"h6\" noWrap style={{ flex: 1 }}>Filtrar</T>\n            </Toolbar>\n            <form onSubmit={preventDefault(close)}>\n                <List component=\"div\" style={{ minWidth: 300 }} disablePadding>\n                    <Divider />\n                    <ListItem component=\"label\">\n                        <TextField\n                            fullWidth\n                            variant=\"outlined\"\n                            placeholder=\"Insira o código do lote\"\n                            InputLabelProps={{ shrink: true }}\n                            label=\"Lote\"\n                            name=\"lote\"\n                            value={idFilter}\n                            onChange={e => onChange('lote', e.target.value)}\n                            InputProps={{\n                                endAdornment: <InputAdornment position=\"end\">\n                                    <IconButton edge=\"end\" onClick={() => onChange('lote', '')}>\n                                        <CancelIcon />\n                                    </IconButton>\n                                </InputAdornment>\n                            }}\n                        />\n                    </ListItem>\n                    <Divider />\n\n                    <ListItemSwitch\n                        id=\"filter-vet\"\n                        title=\"Uso veterinário\"\n                        checked={vetFilter}\n                        onChange={e => onChange('usoVeterinario', e.target.checked)}\n                    >\n                        <ListItemIcon>\n                            <PetsIcon color=\"primary\" />\n                        </ListItemIcon>\n                    </ListItemSwitch>\n                    <Divider />\n\n                    <WithRoles roles=\"admin\">\n                        <ListItemNested titleChildren={<>\n                            <ListItemIcon>\n                                <HealingIcon color=\"primary\" />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Status\" />\n                        </>}>\n                            {status.map(({ id, descricao }) =>\n                                <ListItemSwitch\n                                    key={id} id={`filter-status-${id}`} title={descricao}\n                                    checked={-1 !== statusFilter.findIndex(v => id === v)}\n                                    onChange={() => onChange('status', toggleArrayItem(id, statusFilter))}\n                                />\n                            )}\n                        </ListItemNested>\n                        <Divider />\n                    </WithRoles>\n\n                    <ListItemNested titleChildren={<>\n                        <ListItemIcon>\n                            <CategoryIcon color=\"primary\" />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Tipo\" />\n                    </>}>\n                        {types.map(({ id, descricao }) =>\n                            <ListItemSwitch\n                                key={id} id={`filter-type-${id}`} title={descricao}\n                                checked={-1 !== typesFilter.findIndex(v => id === v)}\n                                onChange={() => onChange('tipo', toggleArrayItem(id, statusFilter))}\n                            />\n                        )}\n                    </ListItemNested>\n                    <Divider />\n\n                    <ListItem>\n                        <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>Aplicar filtros</Button>\n                    </ListItem>\n                </List>\n            </form>\n\n        </Drawer>\n    )\n}\n\n\nfunction ListItemSwitch({ children, checked, id, title, ...props }) {\n    return (\n        <ListItem button component=\"label\" htmlFor={id} tabIndex=\"-1\" selected={checked}>\n            {children}\n            <ListItemText primary={title} />\n            <ListItemSecondaryAction>\n                <Switch color=\"primary\" edge=\"end\" id={id} checked={checked}\n                    {...props}\n                />\n            </ListItemSecondaryAction>\n        </ListItem>\n    )\n}","import React, { Component } from 'react';\nimport { Typography as T, Table, TableRow, TableBody, TableCell, TableHead, Paper, Fab, IconButton, TablePagination, TableFooter, Container, Button } from '@material-ui/core';\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon, AddCircle as PlusIcon, FilterList as FilterIcon } from '@material-ui/icons';\n\nimport { dateFormated, toggleState } from 'lib/util'\n\nimport Header from 'components/Header';\nimport FarmaSdk from 'lib/farmaSDK'\nimport { withLogin } from 'components/LoginView';\nimport { WithRoles } from 'lib/authHOC';\nimport MedicineEditDialog from './MedicineEditDialog';\nimport MedicineDetails from './MedicineDetails';\nimport MedicineRequestDetails from './MedicineRequestDetails';\nimport MedicineDelete from './MedicineDelete';\nimport Loader from 'components/Loader';\nimport SearchBar from 'components/SearchBar';\nimport MedicineFilter from './MedicineFilter';\n\nclass MedicinesView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            items: [],\n            itemDetails: null,\n            newItem: {},\n            newItemOpen: false,\n            editItemId: null,\n            sending: false,\n            statusOptions: [],\n            typesOptions: [],\n            item: null,\n            action: '',\n            filterOpen: false,\n            search: '',\n            // notificações\n            requestDetails: null\n        }\n    }\n\n    /**\n     *\n     * @returns {FarmaSdk} instance\n     * @readonly\n     * @memberof MedicinesView\n     */\n    get sdk() {\n        return FarmaSdk.instance()\n    }\n\n    setAction = (item = null, action = '') => this.setState({ item, action })\n\n    resetAction = () => this.setState({ action: '' })\n\n    load = () => {\n        this.setState({ loading: true })\n        Promise.all([\n            this.fetchItems(),\n            this.sdk.medicineStatus().then(statusOptions => this.setState({ statusOptions })),\n            this.sdk.medicineTypes().then(typesOptions => this.setState({ typesOptions })),\n        ])\n            .catch(error => console.error(error) || this.setState({ error }))\n    }\n\n    fetchItems = async () => {\n        const { search, filter } = this.state\n        this.setState({ loading: true })\n        const items = await this.sdk.medicines.get({ search, filter })\n        this.setState({ items, loading: false })\n    }\n\n    componentDidMount = () => this.load()\n\n    dialogToggle = () => this.setState({\n        newItemOpen: !this.state.newItemOpen,\n        editItemId: null,\n        newItem: this.state.newItemOpen ? {} : this.state.newItem\n    })\n\n    createItem = e => {\n        e && e.preventDefault()\n        if (this.state.sending)\n            return;\n        const { editItemId } = this.state\n        const item = { ...this.state.newItem }\n        item.status = this.state.statusOptions\n            .find(({ id }) => item.status === id)\n        item.tipo = this.state.typesOptions\n            .find(({ id }) => item.tipo === id)\n\n        item.estoque = item.estoque || {}\n        item.estoque.quantidade = item.valorEstoque\n        delete item.valorEstoque\n\n        item.usoVeterinario = item.usoVeterinario ? 'S' : 'N'\n\n        if (editItemId) {\n            delete item.estoque\n        }\n\n        this.setState({ sending: true })\n        this.sdk.saveMedicine(item, editItemId)\n            .then(() => this.setState({ newItem: {}, editItemId: null, sending: false, newItemOpen: false }))\n            .then(this.load)\n            .catch(error => this.setState({ error, sending: false }))\n    }\n\n    requestItem = (amount) => {\n        const { itemDetails } = this.state\n        this.setState({ sending: true })\n        this.sdk.medicines.request(itemDetails.lote, amount)\n            .then(requestDetails => this.setState({ sending: false, itemDetails: null, requestDetails }))\n    }\n\n    deleteItem = ({ id }, reason) => {\n        if (this.state.sending)\n            return;\n        const items = [...this.state.items]\n        const index = items.findIndex(({ id: itemId }) => id === itemId)\n        items.splice(index, 1)\n        this.setState({ sending: true })\n        this.sdk.deleteMedicine(id, reason)\n            .then(() => this.setState({ items }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ sending: false, action: '' }))\n    }\n\n    editItem = item => this.setState({\n        newItem: {\n            ...item,\n            valorEstoque: (item.estoque && item.estoque.quantidade) || 1,\n            status: item.status && item.status.id,\n            tipo: item.tipo && item.tipo.id,\n        }, newItemOpen: true,\n        editItemId: item.lote\n    })\n\n    render() {\n        const { filterOpen, item, action, requestDetails, newItemOpen, newItem, itemDetails, items, loading, sending, typesOptions, statusOptions, editItemId } = this.state\n\n        return (\n            <>\n                <Header title=\"Medicamentos\" backButton />\n                <main>\n                    <Container>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                            <IconButton color=\"primary\" onClick={toggleState(this, 'filterOpen')}>\n                                <FilterIcon />\n                            </IconButton>\n                            <SearchBar onSearch={search => this.setState({ search }, this.fetchItems)} />\n                        </div>\n                        {loading ?\n                            <Loader /> :\n                            !items.length ?\n                                <div style={{ textAlign: 'center', margin: 'calc(50vh - 150px) 0' }}>\n                                    <T gutterBottom>Nenhum Medicamento Encontrado</T>\n                                    <T gutterBottom><Button variant=\"outlined\" color=\"primary\" onClick={toggleState(this, 'filterOpen')}>Experimente Mudar os parametros de filtragem</Button></T>\n                                    <WithRoles roles=\"admin\" callback={() =>\n                                        <Button onClick={this.dialogToggle} color=\"primary\" variant=\"contained\" size=\"large\">Cadastre um novo medicamento</Button>\n                                    } />\n                                </div> :\n                                <Paper style={{ overflow: 'auto' }}>\n                                    <Table>\n                                        <TableHead>\n                                            <TableRow>\n                                                <WithRoles roles=\"admin\">\n                                                    <TableCell padding=\"checkbox\">Lote</TableCell>\n                                                    <TableCell style={{ width: 60 }}>Status</TableCell>\n                                                    <TableCell align=\"right\" padding=\"none\">Qtd.</TableCell>\n                                                    <TableCell>Lab.</TableCell>\n                                                </WithRoles>\n                                                <TableCell>Nome</TableCell>\n                                                <TableCell padding=\"none\">Detalhes</TableCell>\n                                                <TableCell style={{ width: 100 }}>Ações</TableCell>\n                                            </TableRow>\n                                        </TableHead>\n                                        <TableBody>\n                                            {items.map(item =>\n                                                <TableRow key={item.lote}>\n                                                    <WithRoles roles=\"admin\">\n                                                        <TableCell padding=\"checkbox\">\n                                                            <small>{item.lote}</small>\n                                                        </TableCell>\n\n                                                        <TableCell>\n                                                            {item.status.descricao}\n                                                        </TableCell>\n\n                                                        <TableCell align=\"right\" padding=\"none\">\n                                                            {(item.estoque && item.estoque.quantidade) || 'N/A'}\n                                                        </TableCell>\n\n                                                        <TableCell>\n                                                            {item.laboratorio}\n                                                        </TableCell>\n                                                    </WithRoles>\n\n                                                    <TableCell component=\"th\" scope=\"row\">\n                                                        {item.nomeComercial}<br />\n                                                        <small>{item.principioAtivo}</small>\n                                                    </TableCell>\n\n                                                    <TableCell padding=\"none\">\n                                                        <b>Dosagem: </b>{item.dosagem}<br />\n                                                        {item.tipo.descricao}<br />\n                                                        <b>Vencimento: </b>\n                                                        {dateFormated(item.dataVencimento)}\n                                                    </TableCell>\n\n                                                    <TableCell>\n                                                        <WithRoles roles=\"admin\">\n                                                            <IconButton onClick={() => this.editItem(item)} color=\"secondary\">\n                                                                <EditIcon />\n                                                            </IconButton>\n                                                            <IconButton disabled={this.state.sending} onClick={() => this.setAction(item, 'delete')}>\n                                                                <DeleteIcon />\n                                                            </IconButton>\n                                                        </WithRoles>\n\n                                                        <WithRoles roles=\"user\">\n                                                            <IconButton onClick={() => this.setState({ itemDetails: item })} color=\"primary\">\n                                                                <PlusIcon />\n                                                            </IconButton>\n                                                        </WithRoles>\n                                                    </TableCell>\n\n                                                </TableRow>\n                                            )}\n                                        </TableBody>\n                                        <TableFooter>\n                                            <TableRow>\n                                                <TablePagination\n                                                    colSpan={7}\n                                                    rowsPerPage={8}\n                                                    count={50}\n                                                    page={0}\n                                                    rowsPerPageOptions={[]}\n                                                    labelDisplayedRows={({ from, to, count }) => `${from}-${to} de ${count}`}\n                                                    onChangePage={console.log}\n                                                />\n                                            </TableRow>\n                                        </TableFooter>\n                                    </Table>\n                                </Paper>\n                        }\n                    </Container>\n\n\n                    <WithRoles roles=\"admin\" callback={() => <>\n                        <Fab color=\"primary\" title=\"Adicionar\" aria-label=\"Adicionar\"\n                            onClick={this.dialogToggle}\n                            style={{ position: 'sticky', bottom: 16, right: 16, float: 'right', margin: 16 }}>\n                            <AddIcon />\n                        </Fab>\n\n                        <MedicineEditDialog\n                            open={newItemOpen}\n                            onClose={this.dialogToggle}\n                            onItemFound={this.editItem}\n                            onSubmit={this.createItem}\n                            editing={Boolean(editItemId)}\n                            item={newItem}\n                            onFieldChange={(field, value) => this.setState({ newItem: { ...newItem, [field]: value } })}\n                            {...{ typesOptions, statusOptions, sending }}\n                        />\n\n                        <MedicineDelete\n                            item={item}\n                            open={action === 'delete'}\n                            loading={sending}\n                            onClose={this.resetAction}\n                            onDelete={this.deleteItem}\n                        />\n\n                    </>} />\n\n                    <WithRoles roles=\"user\" callback={() => <>\n                        <MedicineDetails\n                            item={itemDetails}\n                            open={Boolean(itemDetails)}\n                            loading={sending}\n                            onClose={() => this.setState({ itemDetails: null })}\n                            onRequest={this.requestItem}\n                        />\n                        <MedicineRequestDetails\n                            open={Boolean(requestDetails)}\n                            onClose={() => !sending && this.setState({ requestDetails: null })}\n                            request={requestDetails}\n                        />\n                    </>} />\n\n                    <MedicineFilter\n                        initialFilter={{ status: [1] }}\n                        status={statusOptions}\n                        types={typesOptions}\n                        open={filterOpen}\n                        onApply={filter => console.warn(filter) || this.setState({ filter, filterOpen: false }, this.fetchItems)} />\n                </main>\n            </>\n        );\n    }\n}\nexport default withLogin(MedicinesView);","import React, { Component } from 'react';\nimport Header from '../Header';\nimport { Typography, Button, TextField, Table, TableRow, TableBody, TableCell, TableHead, Paper, Fab, Dialog, DialogContent, DialogContentText, DialogActions, IconButton, Slide, MenuItem } from '@material-ui/core';\nimport { Add as AddIcon, Delete as DeleteIcon, Edit as EditIcon, Close as CloseIcon } from '@material-ui/icons';\nimport { withSdk } from '../../lib/sdkContext';\nimport { withLogin } from '../LoginView';\nimport Loader from 'components/Loader';\n\n/**\n *\n * @class UsersView\n * @extends {Component}\n * @property {Strig} sdk\n */\nclass UsersView extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            items: [],\n            newItem: {},\n            newItemOpen: false,\n            editItemId: null,\n            sending: false,\n            deleting: false\n        }\n    }\n\n    get sdk() {\n        return this.props.sdk\n    }\n\n    load = () => {\n        this.setState({ loading: true })\n        this.sdk.getUsers()\n            .then(items => this.setState({ items }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ loading: false }))\n    }\n\n    componentDidMount() {\n        this.load()\n    }\n\n    dialogToggle = () => this.setState({\n        newItemOpen: !this.state.newItemOpen,\n        editItemId: null,\n        newItem: this.state.newItemOpen ? {} : this.state.newItem\n    })\n\n    createItem = e => {\n        e && e.preventDefault()\n        if (this.state.sending)\n            return;\n        const { editItemId } = this.state\n        const item = { ...this.state.newItem }\n\n\n        this.setState({ sending: true })\n        this.sdk.createUser(item, editItemId)\n            .then(items => this.setState({ newItem: {}, editItemId: null, sending: false, newItemOpen: false }))\n            .then(this.load)\n            .catch(error => console.error(error) || this.setState({ error }))\n    }\n\n    deleteItem = id => {\n        if (this.state.deleting)\n            return;\n        this.setState({ deleting: true })\n        const items = [...this.state.items]\n        const index = items.findIndex(({ _id: itemId }) => id === itemId)\n        items.splice(index, 1)\n        this.sdk.deleteUser(id)\n            .then(() => this.setState({ items }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ deleting: false }))\n    }\n\n    render() {\n        const { newItemOpen, newItem, items, loading, sending, editItemId } = this.state\n\n        const fields = [\n            ['name', 'Nome', { required: true }],\n            ['email', 'Email', { required: true, type: 'email' }],\n            ['password', 'Senha', { required: true, type: 'password' }],\n            ['cellphone', 'Telefone Celular', { type: 'tel', placeholder: '(XX) XXXXX-XXXX' }],\n            ['phone', 'Telefone Fixo', { type: 'tel', placeholder: '(XX) XXXX-XXXX' }],\n          ]\n\n        return (\n            <>\n                <Header title=\"Usuários\" backButton />\n                <main>\n                    {loading ?\n                        <Loader /> :\n                        !items.length ?\n                            <Typography align=\"center\">Lista vazia</Typography> :\n                            <Paper style={{ margin: 10, overflow: 'auto' }}>\n                                <Table>\n                                    <TableHead>\n                                        <TableRow>\n                                            <TableCell padding=\"checkbox\">Nome</TableCell>\n                                            <TableCell>Email</TableCell>\n                                            <TableCell padding=\"none\">permissões</TableCell>\n                                            <TableCell style={{ width: 100 }}>Ações</TableCell>\n                                        </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                        {items.map(item =>\n                                            <TableRow key={item._id}>\n                                                <TableCell padding=\"checkbox\">\n                                                    <small>{item.name}</small>\n                                                </TableCell>\n                                                <TableCell component=\"th\" scope=\"row\">\n                                                    {item.email}<br />\n                                                </TableCell>\n\n                                                <TableCell>\n                                                    {item.roles.join(', ')}\n                                                </TableCell>\n\n                                                <TableCell>\n                                                    <IconButton onClick={() => this.setState({\n                                                        newItem: { ...item },\n                                                        newItemOpen: true,\n                                                        editItemId: item._id\n                                                    })} color=\"secondary\">\n                                                        <EditIcon />\n                                                    </IconButton>\n                                                    <IconButton disabled={this.state.deleting} onClick={() => this.deleteItem(item._id)}>\n                                                        <DeleteIcon />\n                                                    </IconButton>\n                                                </TableCell>\n\n                                            </TableRow>\n                                        )}\n                                    </TableBody>\n                                </Table>\n                            </Paper>\n                    }\n                    <Fab color=\"primary\" title=\"Adicionar\" aria-label=\"Adicionar\"\n                        onClick={this.dialogToggle}\n                        style={{ position: 'sticky', bottom: 16, right: 16, float: 'right', margin: 16 }}>\n                        <AddIcon />\n                    </Fab>\n                    <Dialog\n                        fullScreen\n                        open={newItemOpen}\n                        onClose={this.dialogToggle}\n                        TransitionComponent={Transition}\n                    >\n                        <Header simple title={editItemId ? `Editar` : 'Novo'}\n                            rightAction={\n                                <IconButton color=\"inherit\" disabled={sending} onClick={this.dialogToggle}>\n                                    <CloseIcon />\n                                </IconButton>\n                            } />\n                        <form method=\"post\" onSubmit={this.createItem}>\n                            <DialogContent>\n                                <DialogContentText>Preencha os dados abaixo</DialogContentText>\n\n                                {fields.map(([field, label, args = {}, hidden], i) => !hidden &&\n                                    <TextField\n                                        key={field}\n                                        autoFocus={i === 0}\n                                        margin=\"dense\"\n                                        id={field}\n                                        name={field}\n                                        label={label}\n                                        value={newItem[field] || ''}\n                                        onChange={e => this.setState({ newItem: { ...newItem, [field]: e.target.value } })}\n                                        type=\"text\"\n                                        fullWidth\n                                        {...args\n                                        // { ...args, required: false }\n                                        }\n                                    />\n                                )}\n\n                                <TextField\n                                    margin=\"dense\"\n                                    id=\"roles\"\n                                    name=\"roles\"\n                                    label=\"Função\"\n                                    value={newItem.roles || ''}\n                                    onChange={e => this.setState({ newItem: { ...newItem, roles: e.target.value } })}\n                                    select\n                                    required\n                                    fullWidth>\n                                    <MenuItem value=\"\" disabled>\n                                        Selecione...\n                                    </MenuItem>\n                                    <MenuItem value=\"user\">\n                                        Usuário\n                                    </MenuItem>\n                                    <MenuItem value=\"admin\">\n                                        Administrador\n                                    </MenuItem>\n                                </TextField>\n\n                            </DialogContent>\n                            <DialogActions>\n                                <Button variant=\"contained\" fullWidth size=\"large\" type=\"submit\" color=\"primary\" disabled={this.sending}>Enviar</Button>\n                                <Button variant=\"outlined\" fullWidth size=\"large\" disabled={this.sending} onClick={this.dialogToggle}>Cancelar</Button>\n                            </DialogActions>\n                        </form>\n                    </Dialog>\n                </main>\n            </>\n        );\n    }\n}\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />\n}\n\nexport default withSdk()(withLogin(UsersView));","import React, { Component, Fragment } from 'react';\nimport Header from '../Header';\nimport { Card, CardContent, Button, CardActions } from '@material-ui/core';\nimport { Link } from 'react-router-dom'\n\nclass NotFound extends Component {\n    render() {\n        return (\n            <Fragment>\n                <Header title=\"Página não encontrada\" />\n                <main>\n                    <Card style={{ margin: 10 }}>\n                        <CardContent>\n                            <p>\n                                não há nada aqui\n                            </p>\n                        </CardContent>\n                        <CardActions>\n                            <Button component={Link} to=\"\" size=\"large\" variant=\"contained\" color=\"primary\">Início</Button>\n                        </CardActions>\n\n                    </Card>\n\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nexport default NotFound;","import React, { Component } from 'react';\nimport Header from '../Header';\nimport { Typography as T, Button, TextField, Card, CardContent, CardActions, Container } from '@material-ui/core';\nimport { withSdk } from '../../lib/sdkContext';\nimport { withLogin } from '../LoginView';\nimport { preventDefault } from '../../lib/util';\n\n/** @typedef {import('../../lib/farmaSDK').default} FarmaSdk */\n\n\n/**\n * Current User handler\n * TODO: ADD route for user edit and password\n * @class UsersView\n * @extends {Component}\n * @property {Strig} sdk\n */\nclass UserForm extends Component {\n\n    state = {\n        sending: false,\n        item: null,\n        passwordChange: {\n            password: '',\n            confirmation: ''\n        }\n    }\n\n    /**\n     * SDK instance\n     *\n     * @readonly\n     * @memberof UserForm\n     * @returns {FarmaSdk}\n     */\n    get sdk() { return this.props.sdk }\n\n    load = () => {\n        this.setState({ sending: true })\n        this.sdk.getAccount()\n            .then(item => this.setState({ item }))\n            .catch(error => console.error(error) || this.setState({ error }))\n            .then(() => this.setState({ sending: false }))\n    }\n\n    componentDidMount = () => this.load()\n\n    updateUser = () => {\n        if (this.state.sending) return;\n        const item = { ...this.state.item }\n\n        this.setState({ sending: true })\n        this.sdk.updateUser(item)\n            .then(item => this.setState({ item, sending: false }))\n            .catch(error => console.error(error) || this.setState({ error }))\n    }\n\n    changePassword = () => {\n        if (this.state.sending) return;\n\n        const { password, confirmation } = this.state.passwordChange\n\n        if (password !== confirmation)\n            return this.setState({ error: { confirmation: true } })\n\n        this.setState({ sending: true, error: null })\n\n        this.sdk.updateAccountPassword({ password })\n            .then(() => this.setState({\n                sending: false,\n                passwordChange: {\n                    password: '',\n                    confirmation: ''\n                }\n            }))\n            .catch(error => console.error(error) || this.setState({ error }))\n    }\n\n    deleteUser = () => {\n        this.setState({ sending: true })\n        this.sdk.deleteAccount()\n            .then(() => this.setState({ sending: false }))\n            .catch(error => console.error(error) || this.setState({ error }))\n    }\n\n    render() {\n        const { passwordChange, item, error, sending } = this.state\n\n        const fields = [\n            ['name', 'Nome', { required: true }],\n            ['email', 'Email', { required: true, type: 'email' }],\n            ['cellphone', 'Telefone Celular', { type: 'tel', placeholder: '(XX) XXXXX-XXXX' }],\n            ['phone', 'Telefone Fixo', { type: 'tel', placeholder: '(XX) XXXX-XXXX' }],\n        ]\n\n        return (\n            <>\n                <Header title=\"Dados Pessoais\" backButton />\n                <main>\n                    {item &&\n                        <Container>\n                            <form method=\"put\" onSubmit={preventDefault(this.updateUser)}>\n                                <Card style={{ margin: \"16px 0\" }}>\n                                    <CardContent>\n                                        <T gutterBottom variant=\"h5\">Alterar informações pessoais</T>\n\n                                        {fields.map(([field, label, args = {}, hidden], i) => !hidden &&\n                                            <TextField\n                                                key={field}\n                                                autoFocus={i === 0}\n                                                margin=\"dense\"\n                                                id={field}\n                                                name={field}\n                                                label={label}\n                                                value={item[field] || ''}\n                                                onChange={e => this.setState({ item: { ...item, [field]: e.target.value } })}\n                                                type=\"text\"\n                                                fullWidth\n                                                disabled={sending}\n                                                {...args}\n                                            />\n                                        )}\n                                    </CardContent>\n                                    <CardActions>\n                                        <Button disabled={sending} variant=\"contained\" fullWidth size=\"large\" type=\"submit\" color=\"primary\">Salvar</Button>\n                                    </CardActions>\n                                </Card>\n                            </form>\n\n                            <Card style={{ margin: \"16px 0\" }}>\n                                <CardContent>\n                                    <T gutterBottom variant=\"h5\">Endereços</T>\n                                    <T>Cadastre endereços para busca de medicamentos em casa.</T>\n\n                                    <div>\n                                        <T color=\"textSecondary\" style={{ margin: '20px 0' }} align=\"center\">Nenhum endereço cadastrado.</T>\n                                    </div>\n\n                                </CardContent>\n                                <CardActions>\n                                    <Button disabled={sending} variant=\"contained\" fullWidth size=\"large\" color=\"primary\">Cadastrar Endereço</Button>\n                                </CardActions>\n                            </Card>\n\n\n                            <form method=\"put\" autoComplete=\"off\" onSubmit={preventDefault(this.changePassword)}>\n                                <Card style={{ margin: \"16px 0\" }}>\n                                    <CardContent>\n                                        <T gutterBottom variant=\"h5\">Alterar Senha</T>\n\n                                        <TextField\n                                            margin=\"dense\"\n                                            id=\"new-password\"\n                                            name=\"new-password\"\n                                            label=\"Nova Senha\"\n                                            type=\"password\"\n                                            fullWidth\n                                            required\n                                            disabled={sending}\n                                            value={passwordChange.password}\n                                            onChange={e => this.setState({ passwordChange: { ...passwordChange, password: e.target.value } })}\n                                        />\n\n                                        <TextField\n                                            margin=\"dense\"\n                                            id=\"new-password-confirm\"\n                                            name=\"new-password-confirm\"\n                                            label=\"Confirmar nova senha\"\n                                            type=\"password\"\n                                            fullWidth required\n                                            disabled={sending}\n                                            value={passwordChange.confirmation}\n                                            onChange={e => this.setState({ passwordChange: { ...passwordChange, confirmation: e.target.value } })}\n                                            error={error && error.confirmation}\n                                            helperText={error && error.confirmation && 'Senha diferente!'}\n                                        />\n\n                                    </CardContent>\n                                    <CardActions>\n                                        <Button disabled={sending} variant=\"contained\" fullWidth size=\"large\" type=\"submit\" color=\"primary\">Alterar Senha</Button>\n                                    </CardActions>\n                                </Card>\n                            </form>\n\n                            <Card style={{ margin: \"16px 0\" }}>\n                                <CardContent>\n                                    <T gutterBottom variant=\"h5\">Deletar conta</T>\n                                    <T gutterBottom>Esta ação é irreversível</T>\n\n                                </CardContent>\n                                <CardActions>\n                                    <Button\n                                        variant=\"contained\"\n                                        fullWidth\n                                        size=\"large\"\n                                        color=\"primary\"\n                                        disabled={sending}\n                                        onClick={this.deleteUser}>Deletar minha conta</Button>\n                                </CardActions>\n                            </Card>\n                        </Container>}\n                </main>\n            </>\n        );\n    }\n}\n\nexport default withSdk()(withLogin(UserForm));","import React from 'react'\nimport { TextField } from '@material-ui/core';\n\n/**\n * Generate an list of form fields\n *\n * @export\n * @param {*} { fields = [], values = {}, fieldProps = {}, onChange }\n * @returns\n */\nexport default function FormFields({ disabled, fields = [], values = {}, fieldProps = {}, onChange }) {\n    return fields.map(([field, label, args = {}, hidden], i) => !hidden &&\n        <TextField\n            key={field}\n            autoFocus={i === 0}\n            margin=\"dense\"\n            id={field}\n            name={field}\n            label={label}\n            value={values[field] || ''}\n            onChange={e => onChange(field, e.target.value)}\n            type=\"text\"\n            fullWidth\n            disabled={disabled}\n            {...fieldProps}\n            {...args}\n        />\n    )\n}\n","import React, { Component, Fragment } from 'react';\nimport Header from '../Header';\nimport { Typography as T, Card, CardContent, CardActions, Button, Container, Snackbar } from '@material-ui/core';\nimport FormFields from 'components/FormFields';\nimport { preventDefault, toggleState } from 'lib/util';\nimport { withSdk } from 'lib/sdkContext';\nimport Loader from 'components/Loader';\n\n/** @typedef {import('lib/farmaSDK').default} FarmaSdk */\n\n\nconst fields = [\n    ['name', 'Nome', { required: true }],\n    ['email', 'Email', { required: true, type: 'email' }],\n    ['phone', 'Telefone', { type: 'tel', placeholder: '(XX) XXXX-XXXX' }],\n    ['message', 'Mensagem', { multiline: true, placeholder: 'Insira sua dúvida ou opinião...' }],\n]\n\nclass ContactView extends Component {\n\n    state = {\n        contact: {},\n        loading: false,\n        sent: false\n    }\n\n    /**\n     * @readonly\n     * @returns {FarmaSdk} Instance\n     * @memberof ContactView\n     */\n    get sdk() {\n        return this.props.sdk\n    }\n\n    toggleLoading = toggleState(this, 'loading')\n\n    handleSubmit = () => {\n        this.toggleLoading()\n        this.sdk.sac.add(this.state.contact)\n            .then(() => this.setState({ contact: {}, sent: true }))\n            .catch(console.error)\n            .then(this.toggleLoading)\n    }\n\n    render() {\n        const { contact, loading, sent } = this.state\n        console.warn(this.state)\n        return (\n            <Fragment>\n                <Header title=\"Contato\" backButton />\n                <main>\n                    {loading && <Loader />}\n                    <form method=\"post\" onSubmit={preventDefault(this.handleSubmit)}>\n                        <Container >\n                            <Card style={{ margin: \"10px 0\", overflow: 'auto' }}>\n                                <CardContent>\n                                    <T gutterBottom variant=\"h5\">Entre em contato</T>\n                                    <T variant=\"body2\" color=\"textSecondary\">Disponibilizamos o formulário abaixo para que você envie suas dúvidas, sugestões ou críticas para nós.</T>\n                                    <FormFields disabled={loading} fields={fields} values={contact}\n                                        onChange={(field, value) => this.setState({ contact: { ...contact, [field]: value } })} />\n                                </CardContent>\n                                <CardActions>\n                                    <Button disabled={loading} type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>Enviar</Button>\n                                </CardActions>\n                            </Card>\n                        </Container>\n                    </form>\n                    <Snackbar\n                        message=\"Mensagem enviada!\"\n                        autoHideDuration={6000}\n                        open={sent}\n                        onClose={() => this.setState({ sent: false })} />\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nexport default withSdk()(ContactView);","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState, Fragment } from 'react'\nimport Header from 'components/Header';\nimport { List, ListItemText, ListItem, Container, Divider, Paper, Dialog, DialogTitle, DialogContent, DialogContentText, ListItemAvatar, Avatar, CircularProgress } from '@material-ui/core';\nimport { useSdk } from 'lib/sdkContext';\nimport Loader from 'components/Loader';\nimport { Email as EmailIcon, Phone as PhoneIcon } from '@material-ui/icons';\n\nexport default function SacView() {\n    const [questions, setQuestions] = useState(null)\n    const [activePerson, setActivePerson] = useState(null)\n    const { sac } = useSdk()\n    useEffect(() => {\n        sac.get().then(q => setQuestions(q))\n    }, [])\n    console.log(questions)\n    return (\n        <>\n            <Header backButton title=\"SAC\" />\n            <main>\n                {!questions ? <Loader /> :\n                    <Container>\n                        <Paper style={{ marginTop: 10 }}>\n                            <List>\n                                {questions && questions.map((person, i) =>\n                                    <Fragment key={person.id}>\n                                        {i !== 0 && <Divider variant=\"inset\" />}\n\n                                        <ListItem button onClick={() => setActivePerson(person)}>\n                                            <ListItemAvatar>\n                                                <Avatar>{person.nomeDoUsuario[0]}</Avatar>\n                                            </ListItemAvatar>\n                                            <ListItemText primary={person.nomeDoUsuario} secondary={person.email} />\n                                        </ListItem>\n                                    </Fragment>\n                                )}\n                                {questions && !questions.length &&\n                                    <ListItem>\n                                        <ListItemText primary=\"Sem perguntas.\" />\n                                    </ListItem>}\n                            </List>\n                        </Paper>\n                    </Container>\n                }\n            </main>\n            <SacDialog person={activePerson} onClose={() => setActivePerson(null)} />\n        </>\n    )\n}\n\n\nfunction SacDialog({ person, ...props }) {\n    return (\n        <Dialog fullWidth open={Boolean(person)} {...props}>\n            {!person ? <DialogContent><CircularProgress /></DialogContent> : <>\n                <DialogTitle>Dúvida de {person.nomeDoUsuario}</DialogTitle>\n                <DialogContent>\n                    {person.mensagem.split(\"\\n\").map((line, i) =>\n                        <DialogContentText key={i}>{line}</DialogContentText>)}\n                </DialogContent>\n                <Divider />\n                <List disablePadding component=\"nav\">\n                    <ListItem button component=\"a\" target=\"_blank\" href={`mailto:${person.email}?subject=Contato - Farmácia Solidária&body=Resposta ao contato realizado por ${person.nomeDoUsuario}`}>\n                        <ListItemAvatar>\n                            <Avatar>\n                                <EmailIcon />\n                            </Avatar>\n                        </ListItemAvatar>\n                        <ListItemText primary={person.email} secondary=\"Responder por Email\" />\n                    </ListItem>\n                    <Divider variant=\"inset\" />\n                    <ListItem button component=\"a\" target=\"_blank\" href={`mailto:${person.telefone}`}>\n                        <ListItemAvatar>\n                            <Avatar>\n                                <PhoneIcon />\n                            </Avatar>\n                        </ListItemAvatar>\n                        <ListItemText primary={person.telefone} secondary=\"Telefonar\" />\n                    </ListItem>\n                </List>\n            </>}\n        </Dialog>\n    )\n}","import React, { Component } from 'react';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport 'typeface-roboto'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport { theme } from './settings'\nimport UpdateHandler from 'components/UpdateHandler'\nimport Home from 'components/views/Home';\n// import Home from 'components/views/Home2';\nimport About from 'components/views/About';\nimport News from 'components/views/News';\nimport NewsSingle from 'components/views/NewsSingle';\nimport PontosApoio from 'components/views/PontosApoio';\nimport MedicinesView from 'components/views/Medicines';\nimport { AuthContextProvider } from 'lib/authContext';\nimport { SdkContextProvider } from 'lib/sdkContext';\nimport UsersView from 'components/views/Users';\nimport NotFound from 'components/views/NotFound';\nimport UserForm from 'components/views/UserForm';\nimport ContactView from 'components/views/ContactView';\nimport SacView from 'components/views/SacView';\n\nclass App extends Component {\n    render() {\n        return (\n            <SdkContextProvider>\n                <AuthContextProvider>\n                    <Router>\n                        <MuiThemeProvider theme={theme}>\n                            <UpdateHandler appServiceWorker={this.props.appServiceWorker}>\n                                <Switch>\n                                    <Route exact path=\"/\" component={Home} />\n                                    <Route exact path=\"/about\" component={About} />\n                                    <Route exact path=\"/news\" component={News} />\n                                    <Route exact path=\"/news/:id\" component={NewsSingle} />\n                                    <Route exact path=\"/news/:id\" component={NewsSingle} />\n                                    <Route exact path=\"/place\" component={PontosApoio} />\n                                    <Route exact path=\"/medicine\" component={MedicinesView} />\n                                    <Route exact path=\"/contact\" component={ContactView} />\n                                    <Route exact path=\"/user\" component={UsersView} />\n                                    <Route exact path=\"/sac\" component={SacView} />\n                                    <Route exact path=\"/me\" component={UserForm} />\n                                    <Route path=\"/\" component={NotFound} />\n                                </Switch>\n                            </UpdateHandler>\n                        </MuiThemeProvider>\n                    </Router>\n                </AuthContextProvider>\n            </SdkContextProvider>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nimport AppServiceWorker from './registerServiceWorker';\n\nconst appSW = new AppServiceWorker();\nReactDOM.render(<App appServiceWorker={appSW} />, document.getElementById('root'));\nappSW.register();","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n/**\n * App Service Worker Class\n * \n * @export\n * @class AppServiceWorker\n */\nexport default class AppServiceWorker {\n    /**\n     * Creates an instance of AppServiceWorker.\n     * \n     * @memberof AppServiceWorker\n     */\n    constructor() {\n\n        this.isLocalhost = Boolean(\n            window.location.hostname === \"localhost\" ||\n            // [::1] is the IPv6 localhost address.\n            window.location.hostname === \"[::1]\" ||\n            // 127.0.0.1/8 is considered localhost for IPv4.\n            window.location.hostname.match(\n                /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n            )\n        );\n\n        this.installPromise = new Promise(resolve => this.installPromiseResolver = resolve)\n        this.updatePromise = new Promise(resolve => this.updatePromiseResolver = resolve)\n\n        this.onUpdateFound(() => console.log(\"New content is available; please refresh.\"))\n        this.onInstalled(() => console.log(\"Content is cached for offline use.\"))\n\n    }\n    /**\n     * Register the service worker\n     * \n     * @returns \n     * @memberof AppServiceWorker\n     */\n    register() {\n        if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n            // The URL constructor is available in all browsers that support SW.\n            const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n            if (publicUrl.origin !== window.location.origin) {\n                // Our service worker won't work if PUBLIC_URL is on a different origin\n                // from what our page is served on. This might happen if a CDN is used to\n                // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n                return;\n            }\n\n            window.addEventListener(\"load\", () => {\n                const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n                if (this.isLocalhost) {\n                    // This is running on localhost. Lets check if a service worker still exists or not.\n                    this.checkValidServiceWorker(swUrl);\n\n                    // Add some additional logging to localhost, pointing developers to the\n                    // service worker/PWA documentation.\n                    navigator.serviceWorker.ready.then(() => {\n                        console.log(\n                            \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n                        );\n                    });\n                } else {\n                    // Is not local host. Just register service worker\n                    this.registerValidSW(swUrl);\n                }\n            });\n        }\n    }\n\n    registerValidSW(swUrl) {\n\n        navigator.serviceWorker\n            .register(swUrl)\n            .then(registration => {\n\n                registration.onupdatefound = () => {\n                    const installingWorker = registration.installing;\n                    installingWorker.onstatechange = () => {\n                        if (installingWorker.state === \"installed\") {\n                            if (navigator.serviceWorker.controller) {\n                                // At this point, the old content will have been purged and\n                                // the fresh content will have been added to the cache.\n                                // It's the perfect time to display a \"New content is\n                                // available; please refresh.\" message in your web app.\n                                this.updatePromiseResolver()\n                            } else {\n                                // At this point, everything has been precached.\n                                // It's the perfect time to display a\n                                // \"Content is cached for offline use.\" message.\n                                this.installPromiseResolver()\n                            }\n                        }\n                    };\n                };\n            })\n            .catch(error => {\n                console.error(\"Error during service worker registration:\", error);\n            });\n    }\n\n    checkValidServiceWorker(swUrl) {\n        // Check if the service worker can be found. If it can't reload the page.\n        fetch(swUrl)\n            .then(response => {\n                // Ensure service worker exists, and that we really are getting a JS file.\n                if (\n                    response.status === 404 ||\n                    response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n                ) {\n                    // No service worker found. Probably a different app. Reload the page.\n                    navigator.serviceWorker.ready.then(registration => {\n                        registration.unregister().then(() => {\n                            window.location.reload();\n                        });\n                    });\n                } else {\n                    // Service worker found. Proceed as normal.\n                    this.registerValidSW(swUrl);\n                }\n            })\n            .catch(() => {\n                console.log(\n                    \"No internet connection found. App is running in offline mode.\"\n                );\n            });\n    }\n\n    unregister() {\n        if (\"serviceWorker\" in navigator) {\n            navigator.serviceWorker.ready.then(registration => {\n                registration.unregister();\n            });\n        }\n    }\n\n    onInstalled(callback) {\n        this.installPromise.then(callback).catch(console.error)\n\n    }\n\n    onUpdateFound(callback) {\n        this.updatePromise.then(callback).catch(console.error)\n    }\n}"],"sourceRoot":""}